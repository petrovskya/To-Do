const e=new Date,t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();function o(e,t,n){return e<=9&&(e="0"+e),t<=9&&(t="0"+t),`${e}.${t}.${n}`}document.querySelector(".date").textContent=o(t,n,r);document.querySelector(".main-wrap");const l=document.querySelector(".task-btn-add"),s=document.querySelector(".card-content__to-do"),a=document.querySelector(".card-content__in"),c=document.querySelector(".card-content__done"),u=document.querySelector(".new-task-wrap"),d=document.querySelector(".card-close-btn"),i=document.querySelector(".task-btn-cancel"),k=document.querySelectorAll(".task-btn-delete-all");let v=document.querySelector(".new-task-title"),S=document.querySelector(".new-task-desc"),y=document.querySelector(".new-task-author"),f=document.querySelectorAll(".score");function q(e,t){f.forEach((n=>{n.dataset.status==e&&(n.innerHTML=t.length)}))}const m=[],h=[],b=[];function g(){E(v),E(S),E(y)}function E(e){e.value=""}let A=function(e,t,n,r,o){this.title=e,this.desc=t,this.author=n,this.status=r,this.date=o};function L(e,t){return`\n    <div class="task" data-status="toDo" id="${t}">\n      <div class="task-header">\n        <span class="task-status">${e.status}</span>\n        <p class="task-date">${e.date}</p>\n      </div>\n      <div class="task-title">${e.title}</div>\n      <div class="task-desc">${e.desc}</div>\n      <div class="task-author">${e.author}</div>\n      <div class="task-options">\n        <button class="task-btn-move-on" id="${t}">\n          <i class="fa-regular fa-circle-right"></i>\n        </button>\n        <button class="task-btn-delete" id="${t}">\n          <i class="fa-solid fa-trash-can"></i>\n        </button>\n      </div>            \n    </div>\n  `}function p(e){if(e.value)return!0}const T=e=>{let t=JSON.stringify(e);localStorage.setItem("toDo",t)},D=()=>{let e=localStorage.getItem("toDo"),t=JSON.parse(e);s.innerHTML="",t?($(t),q(m,m),q(h,h),q(b,b)):s.innerHTML=""},$=e=>{e.forEach(((e,t)=>{s.innerHTML+=L(e,t)}))},w=e=>{localStorage.removeItem(e),T(e),D()};D();let M=s.querySelectorAll(".task-btn-move-on");s.querySelectorAll(".task-btn-delete").forEach((e=>{e.addEventListener("click",H)})),M.forEach((e=>{e.addEventListener("click",P)})),q(m,m),q(h,h),q(b,b);function H(e){let t=e.currentTarget.closest("div[data-status]");m.splice(t,1),w(m);let n=s.querySelectorAll(".task"),r=s.querySelectorAll(".task-btn-delete"),o=s.querySelectorAll(".task-btn-move-on");N(n),N(r),N(o),q("toDo",m)}function P(e){let t=e.currentTarget.closest("div[data-status]").id;h.push(m[t]),m.splice(t,1),w(m);let n=s.querySelectorAll(".task"),r=s.querySelectorAll(".task-btn-delete"),o=s.querySelectorAll(".task-btn-move-on");N(n),N(r),N(o),h.forEach((e=>{e.status="in progress"})),a.innerHTML="",h.forEach(((e,t)=>a.innerHTML+=L(e,t)));let l=a.querySelectorAll(".task");l.forEach((e=>{e.dataset.status="inProgress"})),N(l),q("toDo",m),q("inProgress",h),a.querySelectorAll(".task-btn-move-on").forEach((e=>{e.addEventListener("click",J)})),a.querySelectorAll(".task-btn-delete").forEach((e=>{e.addEventListener("click",_)}))}function _(e){let t=e.currentTarget.closest("div[data-status]");h.splice(t,1),t.remove();let n=a.querySelectorAll(".task"),r=a.querySelectorAll(".task-btn-delete"),o=a.querySelectorAll(".task-btn-move-on");N(n),N(r),N(o),q("toDo",m),q("inProgress",h)}function I(e){let t=e.currentTarget.closest("div[data-status]");b.splice(t,1),t.remove();let n=c.querySelectorAll(".task"),r=c.querySelectorAll(".task-btn-delete"),o=c.querySelectorAll(".task-btn-move-on");N(n),N(r),N(o),q("toDo",m),q("inProgress",h),q("done",b)}function J(e){let t=e.currentTarget.closest("div[data-status]"),n=t.id;b.push(h[n]),h.splice(n,1),t.remove();let r=a.querySelectorAll(".task"),o=document.querySelectorAll(".task-btn-delete"),l=document.querySelectorAll(".task-btn-move-on");N(r),N(o),N(l),b.forEach((e=>{e.status="done"})),c.innerHTML="",b.forEach(((e,t)=>c.innerHTML+=L(e,t)));let s=c.querySelectorAll(".task");s.forEach((e=>{e.dataset.status="done",e.querySelector(".task-btn-move-on").remove()})),N(s),q("toDo",m),q("inProgress",h),q("done",b),c.querySelectorAll(".task-btn-delete").forEach((e=>{e.addEventListener("click",I)}))}function N(e){e.forEach(((e,t)=>{e.setAttribute("id",t)}))}l.addEventListener("click",(()=>u.classList.add("active"))),d.addEventListener("click",(function(){u.classList.toggle("active")})),i.addEventListener("click",g);function O(e,t){e.splice(0,e.length),t.querySelectorAll(".task").forEach((e=>e.remove())),q("toDo",m),q("inProgress",h),q("done",b)}document.querySelector(".task-btn-new").addEventListener("click",(function(){if(p(v)&&p(y)){let e=o(t,n,r),l=new A(v.value,S.value,y.value,"to do",e);m.push(l),T(m),D(),g(),q(m,m);let a=s.querySelectorAll(".task-btn-move-on");s.querySelectorAll(".task-btn-delete").forEach((e=>{e.addEventListener("click",H)})),a.forEach((e=>{e.addEventListener("click",P)}))}q(m,m)})),k.forEach((e=>{e.addEventListener("click",(e=>{"toDo"==e.currentTarget.dataset.status?O(m,s):"inProgress"==e.currentTarget.dataset.status?O(h,a):"done"==e.currentTarget.dataset.status&&O(b,c)}))}));
//# sourceMappingURL=index.624145dd.js.map
