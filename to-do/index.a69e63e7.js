function t(){const t=new Date;let e=t.getDate(),n=t.getMonth()+1;return e<=9&&(e="0"+e),n<=9&&(n="0"+n),`${e}.${n}.${t.getFullYear()}`}function e(t){t.forEach((t=>{t.value=""}))}function n(t,e){return`\n    <div class="task" data-status="toDo" id="${e}">\n      <div class="task-header">\n        <span class="task-status">to do</span>\n        <p class="task-date">${t.date}</p>\n      </div>\n      <div class="task-title">${t.title}</div>\n      <div class="task-desc">${t.desc}</div>\n      <div class="task-author">${t.author}</div>\n      <div class="task-options">\n        <button class="task-btn-move-on" id="${e}">\n          <i class="fa-regular fa-circle-right"></i>\n        </button>\n        <button class="task-btn-delete" id="${e}">\n          <i class="fa-solid fa-trash-can"></i>\n        </button>\n      </div>            \n    </div>\n  `}function s(t,e){return`\n    <div class="task" data-status="inProgress" id="${e}">\n      <div class="task-header">\n        <span class="task-status">in progress</span>\n        <p class="task-date">${t.date}</p>\n      </div>\n      <div class="task-title">${t.title}</div>\n      <div class="task-desc">${t.desc}</div>\n      <div class="task-author">${t.author}</div>\n      <div class="task-options">\n        <button class="task-btn-move-back" id="${e}">\n          <i class="fa-regular fa-circle-left"></i>\n        </button>\n        <button class="task-btn-move-on" id="${e}">\n          <i class="fa-regular fa-circle-right"></i>\n        </button>\n        <button class="task-btn-delete" id="${e}">\n          <i class="fa-solid fa-trash-can"></i>\n        </button>\n      </div>            \n    </div>\n  `}function a(t,e){return`\n    <div class="task" data-status="done" id="${e}">\n      <div class="task-header">\n        <span class="task-status">done</span>\n        <p class="task-date">${t.date}</p>\n      </div>\n      <div class="task-title">${t.title}</div>\n      <div class="task-desc">${t.desc}</div>\n      <div class="task-author">${t.author}</div>\n      <div class="task-options">\n        <button class="task-btn-move-back" id="${e}">\n          <i class="fa-regular fa-circle-left"></i>\n        </button>\n        <button class="task-btn-delete" id="${e}">\n          <i class="fa-solid fa-trash-can"></i>\n        </button>\n      </div>            \n    </div>\n  `}function c(t,e){t.splice(0,t.length),e.querySelectorAll(".task").forEach((t=>t.remove())),L()}function r(t){t.forEach((t=>{t.forEach(((t,e)=>{t.setAttribute("id",e)}))}))}function l(t){let e=t.querySelectorAll(".task"),n=t.querySelectorAll(".task-btn-move-on"),s=t.querySelectorAll(".task-btn-move-back"),a=t.querySelectorAll(".task-btn-delete");a.forEach((t=>{t.addEventListener("click",w)})),n.forEach((t=>{t.addEventListener("click",J)})),s.forEach((t=>{t.addEventListener("click",I)})),r([e,a,n,s])}function o(t){let e=t.querySelectorAll(".task"),n=t.querySelectorAll(".task-btn-move-back"),s=t.querySelectorAll(".task-btn-delete");s.forEach((t=>{t.addEventListener("click",D)})),n.forEach((t=>{t.addEventListener("click",N)})),r([e,s,n])}let i=[],d=[],u=[];const v=document.querySelector(".card-content__to-do"),k=document.querySelector(".card-content__in"),f=document.querySelector(".card-content__done");document.querySelector(".date").textContent=t();document.querySelector(".main-wrap");const h=document.querySelector(".task-btn-add"),g=document.querySelector(".new-task-wrap"),b=document.querySelector(".card-close-btn"),m=document.querySelector(".task-btn-clear"),S=document.querySelectorAll(".task-btn-delete-all");let p=document.querySelector(".new-task-title"),y=document.querySelector(".new-task-desc"),E=document.querySelector(".new-task-author");function L(){document.querySelectorAll(".score").forEach((t=>{"toDo"==t.dataset.status?t.innerHTML=i.length:"inProgress"==t.dataset.status?t.innerHTML=d.length:"done"==t.dataset.status&&(t.innerHTML=u.length)}))}function q(t){if(t.value)return!0}const $=()=>{let t=JSON.stringify(i),e=JSON.stringify(d),n=JSON.stringify(u);localStorage.setItem("toDo",t),localStorage.setItem("inProgress",e),localStorage.setItem("done",n)},T=()=>{let t=localStorage.getItem("toDo"),e=localStorage.getItem("inProgress"),c=localStorage.getItem("done"),h=JSON.parse(t),g=JSON.parse(e),b=JSON.parse(c);var m,S,p,y;v.innerHTML="",h?(i=h,v.innerHTML="",h.forEach(((t,e)=>v.innerHTML+=n(t,e))),S=(m=v).querySelectorAll(".task"),p=m.querySelectorAll(".task-btn-move-on"),(y=m.querySelectorAll(".task-btn-delete")).forEach((t=>{t.addEventListener("click",M)})),p.forEach((t=>{t.addEventListener("click",H)})),r([S,y,p]),L()):v.innerHTML="",g?(d=g,k.innerHTML="",g.forEach(((t,e)=>k.innerHTML+=s(t,e))),l(k),L()):k.innerHTML="",b?(u=b,f.innerHTML="",b.forEach(((t,e)=>f.innerHTML+=a(t,e))),o(f),L()):f.innerHTML=""};T(),L();let A=function(t,e,n,s){this.title=t,this.desc=e,this.author=n,this.date=s};function M(t){let e=t.currentTarget.closest("div[data-status]");i.splice(e,1),e.remove(),$(),T(),L()}function H(t){let e=t.currentTarget.closest("div[data-status]"),n=e.id;d.push(i[n]),i.splice(n,1),e.remove(),$(),T()}function w(t){let e=t.currentTarget.closest("div[data-status]");d.splice(e,1),e.remove(),$(),T(),L()}function D(t){let e=t.currentTarget.closest("div[data-status]");u.splice(e,1),e.remove(),$(),T(),L()}function I(t){let e=t.currentTarget.closest("div[data-status]"),n=e.id;i.push(d[n]),d.splice(n,1),e.remove(),$(),T(),L()}function J(t){let e=t.currentTarget.closest("div[data-status]"),n=e.id;u.push(d[n]),d.splice(n,1),e.remove(),$(),T(),L()}function N(t){let e=t.currentTarget.closest("div[data-status]"),n=e.id;d.push(u[n]),u.splice(n,1),e.remove(),$(),T(),L()}h.addEventListener("click",(()=>g.classList.add("active"))),b.addEventListener("click",(function(){g.classList.toggle("active")})),m.addEventListener("click",(()=>{e([E,y,p])}));document.querySelector(".task-btn-new").addEventListener("click",(function(){if(q(p)&&q(E)){let n=t(),s=new A(p.value,y.value,E.value,n);i.push(s),$(),T(),e([E,y,p])}})),S.forEach((t=>{t.addEventListener("click",(t=>{"toDo"==t.currentTarget.dataset.status?c(i,v):"inProgress"==t.currentTarget.dataset.status?c(d,k):"done"==t.currentTarget.dataset.status&&c(u,f)}))}));